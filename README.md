# Лабораторная работа №2

## Цель работы
Разработка структуры базы данных PostgreSQL и её подключение к бэкенд-приложению.

## Задание
Создание базы данных PostgreSQL в соответствии с выбранной темой работы и подключение БД к созданным ранее трём шаблонам страниц.

## Порядок показа на защите

### 1. Демонстрация работы с базой данных
- **Панель администратора**: Показать добавление новой услуги через Django Admin/Adminer
- **Прямые запросы к БД**: Выполнить `SELECT`-запрос для просмотра данных
- **Логическое удаление**: Показать в БД результаты логического удаления запросом
- **Изменение данных**: В БД изменить поля в заявке и связи многие-ко-многим, продемонстрировать изменения в приложении

### 2. Демонстрация работы приложения
- **Поиск**: Выполнить поиск на одной из страниц
- **Удаление**: Удалить заявку (логическое удаление)
- **Навигация**: Перейти по URL удаленной заявки (показать обработку несуществующих данных)
- **Работа с корзиной**: Добавить две услуги в заявку, продемонстрировать:
  - Изменение карточки корзины
  - Содержимое заявки
  - Создание новой заявки

### 3. Анализ кода
**Продемонстрировать в коде:**
- **Модели данных**: Структура ORM-моделей
- **Составной уникальный ключ**: Реализация для связи многие-ко-многим
- **Контроллеры**: 4 контроллера с использованием ORM
- **Удаление заявки**: Реализация через SQL `UPDATE` (логическое удаление)

## Контрольные вопросы
1. **Виды баз данных**: Реляционные vs NoSQL, их особенности
2. **SQL запросы**: `SELECT`, `INSERT`, `UPDATE`, `DELETE`, `JOIN`
3. **Курсоры**: Назначение и использование в работе с БД
4. **ORM**: Object-Relational Mapping, преимущества и недостатки
5. **Модели и миграции**: Процесс создания и применения миграций
6. **Чистая архитектура**: Принципы организации кода при работе с БД

## ER-диаграмма
Требуется создать в StarUML ER-диаграмму, включающую:

### Элементы диаграммы:
- **Таблицы**: Все сущности предметной области
- **Связи**: Типы отношений между таблицами (1:1, 1:М, М:М)
- **Столбцы**: Все атрибуты таблиц с указанием:
  - **Типов данных** (INTEGER, VARCHAR, BOOLEAN, DATE, etc.)
  - **Длины** для строковых типов
  - **Ограничений** (NOT NULL, UNIQUE, etc.)

### Ключи:
- **Первичные ключи**: Для каждой таблицы
- **Внешние ключи**: Все связи между таблицами
- **Составные ключи**: При наличии